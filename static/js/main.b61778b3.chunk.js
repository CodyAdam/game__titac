(this.webpackJsonptitac=this.webpackJsonptitac||[]).push([[0],{10:function(e,n,t){e.exports={app:"App_app__2YA19",row:"App_row__iro9r",column:"App_column__2m9wK",small:"App_small__5GAXN",score:"App_score__1yCRb"}},16:function(e,n,t){e.exports={container:"Multi_container__nMskm",input:"Multi_input__1bmfF",button:"Multi_button__3XKQe",connected:"Multi_connected__13jBE"}},2:function(e,n,t){e.exports={container:"Board_container__1EY9B",subHeader:"Board_subHeader__1tuXE",header:"Board_header__jtnmd",winning:"Board_winning__eTJzm",grid:"Board_grid__2cYVE",cell:"Board_cell__1ISxv",notfull:"Board_notfull__1Jt3K",upper:"Board_upper__19_Gc",under:"Board_under__JpaN9",inside:"Board_inside__o59jU",item:"Board_item__1KD-H",used:"Board_used__1WkSj",controlBar:"Board_controlBar__rXM-Z",controlButton:"Board_controlButton__2BKnF",controlButtonInside:"Board_controlButtonInside__28lL0"}},21:function(e,n,t){e.exports={image:"Banner_image__K3V53",rotate:"Banner_rotate__3W6KK",button:"Banner_button__1vUGQ",hover:"Banner_hover__dV6ik","jello-horizontal":"Banner_jello-horizontal__3Kd5y",info:"Banner_info__HuTn7"}},46:function(e,n,t){e.exports={canvas:"Lines_canvas__27sG7"}},52:function(e,n,t){},8:function(e,n,t){e.exports={container:"Score_container__1oco5",header:"Score_header__1Xo71",smallContainer:"Score_smallContainer__x8jYZ",smallHeader:"Score_smallHeader__2b16O",turn:"Score_turn__8BBI3"}},91:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(19),o=t.n(c),s=(t(52),t(9)),i=t(2),l=t.n(i),u=t(15),d=function(){return Object(u.b)()},j=u.c,b=t(28),p=t(20),_={received:!0,fake:!1,score:{p1:[],p2:[]},turn:Math.random()<.5?1:2,winner:!1,grid:[{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]},{slotsIndex:0,value:[]}]},f=Object(p.b)({name:"board",initialState:_,reducers:{playAt:function(e,n){var t=n.payload,r=e.turn;if(e.grid[t].slotsIndex<3){e.grid[t].slotsIndex++,e.grid[t].value.push({used:e.fake,player:r}),e.fake||(e.turn=1===r?2:1),e.fake=!e.fake;var a=function(e){var n=e.score.p1,t=e.score.p2,r=e.grid;return[{name:"tr",indices:[0,1,2]},{name:"mr",indices:[3,4,5]},{name:"br",indices:[6,7,8]},{name:"lc",indices:[0,3,6]},{name:"mc",indices:[1,4,7]},{name:"rc",indices:[2,5,8]},{name:"brtl",indices:[0,4,8]},{name:"bltr",indices:[6,4,2]}].forEach((function(e){var a=e.name,c=e.indices,o=function(e,n){var t=[];n.forEach((function(n){return t.push(e[n])}));var r=!0;return t.forEach((function(e){0===e.slotsIndex&&(r=!1),e.value.find((function(e){return!e.used&&1===e.player}))||(r=!1)})),r?1:(r=!0,t.forEach((function(e){0===e.slotsIndex&&(r=!1),e.value.find((function(e){return!e.used&&2===e.player}))||(r=!1)})),!!r&&2)}(r,c);o&&(r=function(e,n,t){return n.forEach((function(n){for(var r=0;r<e[n].value.length;r++){var a=e[n].value[r];if(a.player===t&&!a.used){e[n].value[r].used=!0;break}}})),e}(r,c,o),1===o?n.push(a):t.push(a))})),{score:{p1:n,p2:t},grid:r}}(e),c=a.score,o=a.grid;e.score=c,e.grid=o,e.winner=function(e){var n=!1;if(e.grid.forEach((function(e){e.slotsIndex<3&&(n=!0)})),n)return!1;return e.score.p1.length===e.score.p2.length?3:e.score.p1.length>e.score.p2.length?1:2}(e),e.received=!1}},set:function(e,n){return(e=Object(b.a)({},n.payload)).received=!0,e},reset:function(e,n){return(e=Object(b.a)({},_)).turn=n.payload,e.received=!1,e}}}),h=f.actions,v=h.playAt,m=h.reset,x=h.set,O=function(e){return e.board.present.grid},g=f.reducer;function B(e){return 1===e?"\ud83d\udfe1":2===e?"\ud83d\udd35":"\u26ab"}var N=t(14),y=t.n(N),w=t(0);function I(){var e=d(),n=j((function(e){return e.board.past.length>0})),t=j((function(e){return e.board.future.length>0}));return Object(w.jsxs)("div",{className:l.a.controlBar,children:[Object(w.jsx)("button",{className:l.a.controlButton,onClick:function(){return e(N.ActionCreators.undo())},disabled:!n,children:Object(w.jsx)("div",{className:l.a.controlButtonInside,children:"undo"})}),Object(w.jsx)("div",{className:l.a.controlButtonContainer,children:Object(w.jsx)("button",{className:l.a.controlButton,onClick:function(){return e(N.ActionCreators.redo())},disabled:!t,children:Object(w.jsx)("div",{className:l.a.controlButtonInside,children:"redo"})})}),Object(w.jsx)("div",{className:l.a.controlButtonContainer,children:Object(w.jsx)("button",{className:l.a.controlButton,onClick:function(){return e(m(Math.random()>.5?1:2))},children:Object(w.jsx)("div",{className:l.a.controlButtonInside,children:"reset"})})})]})}var k=t(46),E=t.n(k),C=1e3,A=1e3,S=365;function K(){var e=function(e,n){var t={tr:{pt1:[-1,-1],pt2:[1,-1],values:[]},mr:{pt1:[-1,0],pt2:[1,0],values:[]},br:{pt1:[-1,1],pt2:[1,1],values:[]},lc:{pt1:[-1,-1],pt2:[-1,1],values:[]},mc:{pt1:[0,-1],pt2:[0,1],values:[]},rc:{pt1:[1,-1],pt2:[1,1],values:[]},bltr:{pt1:[-1,1],pt2:[1,-1],values:[]},brtl:{pt1:[-1,-1],pt2:[1,1],values:[]}};return e.forEach((function(e){t[e].values.push(1)})),n.forEach((function(e){t[e].values.push(2)})),t}(j((function(e){return e.board.present.score.p1})),j((function(e){return e.board.present.score.p2}))),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(n.current){var t=n.current.getContext("2d");t&&(t.clearRect(0,0,C,A),Object.keys(e).forEach((function(n){var r=e[n],a=r.pt1,c=r.pt2,o=r.values,i=a,l=Object(s.a)(i,2),u=l[0],d=l[1],j=c,b=Object(s.a)(j,2),p=b[0],_=b[1],f=[u*S+500,d*S+500,p*S+500,_*S+500];u=f[0],d=f[1],p=f[2],_=f[3];o.forEach((function(e,r){t.beginPath(),t.moveTo(u+40*(r-(1===o.length?0:1))*("brtl"===n?-1:1),d+40*(r-(1===o.length?0:1))),t.lineWidth=30,t.strokeStyle=1===e?"#FFF100":"#0078D7",t.lineTo(p+40*(r-(1===o.length?0:1))*("brtl"===n?-1:1),_+40*(r-(1===o.length?0:1))),t.closePath(),t.stroke()}))})))}})),Object(w.jsx)("canvas",{ref:n,className:E.a.canvas,height:C,width:A})}var M,H=t(47),W=Object(p.a)({reducer:{board:y()(g)}});function z(){var e=d(),n=j(O),t=j((function(e){return e.board.present})),a=j((function(e){return e.board.present.turn})),c=j((function(e){return e.board.present.winner})),o=c?3===c?Object(w.jsx)("h1",{className:l.a.header+" "+l.a.winning,children:"Draw!"}):Object(w.jsxs)("h1",{className:l.a.header+" "+l.a.winning,children:["Winner is ",B(c),"!"]}):t.fake?Object(w.jsxs)("h1",{className:l.a.header,children:["".concat(B(a)," place a "),Object(w.jsx)("span",{className:l.a.used,children:B(3)})]}):Object(w.jsx)("h1",{className:l.a.header,children:"".concat(B(a)," place a ").concat(B(a))});Object(r.useEffect)((function(){!t.received&&M&&M.connected&&M.emit("state",t)}));var s=n.map((function(n,t){var r=n.value.map((function(e,n){var r=e.used?B(3):B(e.player);return Object(w.jsx)("div",{className:l.a.item+" "+(e.used?l.a.used:""),children:r},t+n)}));return Object(w.jsxs)("div",{className:l.a.cell+" "+(n.value.length<3?l.a.notfull:""),onClick:function(){c||e(v(t))},children:[Object(w.jsx)("div",{className:l.a.under}),Object(w.jsx)("div",{className:l.a.upper,children:Object(w.jsx)("div",{className:l.a.inside,children:r})})]},t)}));return Object(w.jsxs)("div",{className:l.a.container,children:[o,Object(w.jsxs)("div",{className:l.a.grid,children:[Object(w.jsx)(K,{}),s]}),Object(w.jsx)(I,{})]})}var F=t(8),J=t.n(F);function X(e){var n=j((function(n){return 1===e.player?n.board.present.score.p1.length:n.board.present.score.p2.length})),t=j((function(e){return e.board.present.turn}));return e.small?Object(w.jsxs)("div",{className:"".concat(J.a.smallContainer," ").concat(t===e.player?J.a.turn:""),children:[Object(w.jsx)("div",{className:J.a.smallHeader,children:B(e.player)}),Object(w.jsx)("div",{className:J.a.smallHeader,children:n})]}):Object(w.jsxs)("div",{className:"".concat(J.a.container," ").concat(t===e.player?J.a.turn:""),children:[Object(w.jsx)("div",{className:J.a.header,children:B(e.player)}),Object(w.jsx)("div",{className:J.a.header,children:n})]})}var G=t(21),L=t.n(G);function T(){return Object(w.jsx)("div",{children:Object(w.jsxs)("button",{className:L.a.button,children:[Object(w.jsx)("img",{src:"/banner.png",alt:"banner",className:L.a.image}),Object(w.jsx)("a",{rel:"noreferrer",target:"_blank",className:L.a.info,href:"https://github.com/CodyAdam/titac",children:"github.com/CodyAdam/titac"})]})})}var Y=t(16),D=t.n(Y);function R(){var e=Object(r.useState)("88.123.1.223:2222"),n=Object(s.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(!1),o=Object(s.a)(c,2),i=o[0],l=o[1];return Object(w.jsxs)("div",{className:D.a.container,children:[Object(w.jsx)("input",{type:"text",value:t,className:D.a.input,onChange:function(e){a(e.target.value)}}),Object(w.jsx)("button",{className:"".concat(D.a.button," ").concat(i?D.a.connected:""),onClick:function(){!function(e,n){M&&M.connected&&M.disconnect(),console.log("try to connect to : "+e),(M=Object(H.io)("ws://".concat(e),{timeout:3e3,reconnection:!1})).on("connect",(function(){console.log("connected"),n(!0)})),M.on("state",(function(e){console.log("received: "+e),W.dispatch(x(e))})),M.on("disconnect",(function(){console.log("disconnected"),n(!1)}))}(t,l)},children:i?"connected":"connect"})]})}var V=t(10),P=t.n(V);var Q=function(){var e=Object(r.useState)(window.innerWidth),n=Object(s.a)(e,2),t=n[0],a=n[1];function c(){a(window.innerWidth)}return Object(r.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]),t<=768?Object(w.jsxs)("div",{className:P.a.app,children:[Object(w.jsx)(R,{}),Object(w.jsx)(z,{}),Object(w.jsxs)("div",{className:P.a.row+" "+P.a.score+" "+P.a.small,children:[Object(w.jsx)(X,{player:1,small:!0}),Object(w.jsx)(X,{player:2,small:!0})]})]}):Object(w.jsxs)("div",{className:P.a.app,children:[Object(w.jsx)(R,{}),Object(w.jsx)(T,{}),Object(w.jsxs)("div",{className:P.a.row,children:[Object(w.jsx)(X,{player:1,small:!1}),Object(w.jsx)(z,{}),Object(w.jsx)(X,{player:2,small:!1})]})]})};o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(u.a,{store:W,children:Object(w.jsx)(Q,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.b61778b3.chunk.js.map