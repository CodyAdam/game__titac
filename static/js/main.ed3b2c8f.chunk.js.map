{"version":3,"sources":["App.module.css","features/multi/Multi.module.css","features/board/Board.module.css","features/banner/Banner.module.css","features/board/Lines.module.css","features/board/Score.module.css","app/hooks.ts","features/board/boardSlice.ts","features/board/Control.tsx","features/board/Lines.tsx","app/socket.ts","app/store.ts","features/board/Board.tsx","features/board/Score.tsx","features/banner/Banner.tsx","features/multi/Multi.tsx","App.tsx","index.tsx"],"names":["module","exports","useAppDispatch","useDispatch","useAppSelector","useSelector","initialState","received","fake","score","p1","p2","turn","Math","random","winner","grid","slotsIndex","value","boardSlice","createSlice","name","reducers","playAt","state","action","cell","payload","player","push","used","indices","forEach","lineFound","tiles","index","found","tile","find","item","getLine","i","length","setUsed","getScoreGrid","getWinner","set","reset","actions","selectGrid","board","present","getSymbol","Control","dispatch","canUndo","past","canRedo","future","className","styles","controlBar","controlButton","onClick","ActionCreators","undo","disabled","controlButtonInside","controlButtonContainer","redo","H","W","COEF","Lines","lines","sorted","tr","pt1","pt2","values","mr","br","lc","mc","rc","bltr","brtl","line","sortLines","canvasRef","useRef","useEffect","current","c","getContext","clearRect","Object","keys","dir","x1","y1","x2","y2","elem","beginPath","moveTo","lineWidth","strokeStyle","lineTo","closePath","stroke","ref","canvas","height","width","socket","store","configureStore","reducer","undoable","boardReducer","Board","header","winning","connected","emit","map","items","subIndex","symbol","notfull","under","upper","inside","container","subHeader","Score","props","small","smallContainer","smallHeader","Banner","button","src","alt","image","rel","target","info","href","Multi","useState","ip","setIp","setConnected","type","input","onChange","e","disconnect","console","log","io","timeout","reconnection","on","connect","App","window","innerWidth","setWidth","handleWindowSizeChange","addEventListener","removeEventListener","app","row","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed3b2c8f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2YA19\",\"row\":\"App_row__iro9r\",\"column\":\"App_column__2m9wK\",\"small\":\"App_small__5GAXN\",\"score\":\"App_score__1yCRb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Multi_container__nMskm\",\"input\":\"Multi_input__1bmfF\",\"button\":\"Multi_button__3XKQe\",\"connected\":\"Multi_connected__13jBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Board_container__1EY9B\",\"subHeader\":\"Board_subHeader__1tuXE\",\"header\":\"Board_header__jtnmd\",\"winning\":\"Board_winning__eTJzm\",\"grid\":\"Board_grid__2cYVE\",\"cell\":\"Board_cell__1ISxv\",\"notfull\":\"Board_notfull__1Jt3K\",\"upper\":\"Board_upper__19_Gc\",\"under\":\"Board_under__JpaN9\",\"inside\":\"Board_inside__o59jU\",\"item\":\"Board_item__1KD-H\",\"used\":\"Board_used__1WkSj\",\"controlBar\":\"Board_controlBar__rXM-Z\",\"controlButton\":\"Board_controlButton__2BKnF\",\"controlButtonInside\":\"Board_controlButtonInside__28lL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Banner_image__K3V53\",\"rotate\":\"Banner_rotate__3W6KK\",\"button\":\"Banner_button__1vUGQ\",\"hover\":\"Banner_hover__dV6ik\",\"jello-horizontal\":\"Banner_jello-horizontal__3Kd5y\",\"info\":\"Banner_info__HuTn7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"Lines_canvas__27sG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Score_container__1oco5\",\"header\":\"Score_header__1Xo71\",\"smallContainer\":\"Score_smallContainer__x8jYZ\",\"smallHeader\":\"Score_smallHeader__2b16O\",\"turn\":\"Score_turn__8BBI3\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../../app/store';\r\nimport { Direction } from './Lines';\r\n\r\nexport interface BoardState {\r\n  received: boolean,\r\n  score: { p1: Array<Direction>, p2: Array<Direction> }\r\n  turn: 1 | 2\r\n  fake: boolean\r\n  winner: false | 1 | 2\r\n  grid: Array<Tile>\r\n}\r\n\r\nexport interface Tile {\r\n  slotsIndex: number,\r\n  value: Array<Item>\r\n}\r\n\r\nexport interface Item { used: boolean, player: 1 | 2 }\r\n\r\nconst MAX_PER_TILE = 3;\r\nconst SCORE_TO_WIN = 3;\r\n\r\nconst initialState: BoardState = {\r\n  received: true,\r\n  fake: false,\r\n  score: { p1: [], p2: [] },\r\n  turn: Math.random() < 0.5 ? 1 : 2,\r\n  winner: false,\r\n  grid: [\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n    { slotsIndex: 0, value: [] },\r\n  ]\r\n}\r\n\r\nexport const boardSlice = createSlice({\r\n  name: 'board',\r\n  initialState,\r\n  reducers: {\r\n    playAt: (state, action: PayloadAction<number>) => {\r\n      const cell = action.payload;\r\n      const player = state.turn;\r\n      if (state.grid[cell].slotsIndex < MAX_PER_TILE) {\r\n        state.grid[cell].slotsIndex++;\r\n        state.grid[cell].value.push({ used: state.fake, player });\r\n        if (!state.fake)\r\n          state.turn = player === 1 ? 2 : 1;\r\n        state.fake = !state.fake;\r\n        const { score, grid } = getScoreGrid(state);\r\n        state.score = score;\r\n        state.grid = grid;\r\n        state.winner = getWinner(state);\r\n        state.received = false;\r\n      }\r\n    },\r\n    set: (state, action: PayloadAction<BoardState>) => {\r\n      state = { ...action.payload };\r\n      state.received = true;\r\n      return state;\r\n    },\r\n    reset: (state, action: PayloadAction<1 | 2>) => {\r\n      state = { ...initialState }\r\n      state.turn = action.payload;\r\n      state.received = false;\r\n      return state\r\n    }\r\n  }\r\n});\r\n\r\nexport const { playAt, reset, set } = boardSlice.actions;\r\n\r\nexport const selectGrid = (state: RootState) => state.board.present.grid;\r\n\r\nexport default boardSlice.reducer;\r\n\r\n// HELPERS\r\n\r\nfunction getScoreGrid(state: BoardState): { score: { p1: Array<Direction>, p2: Array<Direction> }, grid: Array<Tile> } {\r\n  const p1: Array<Direction> = state.score.p1;\r\n  const p2: Array<Direction> = state.score.p2;\r\n  let grid = state.grid;\r\n\r\n  const lines: Array<{ name: Direction, indices: Array<number> }> = [{ name: \"tr\", indices: [0, 1, 2] },\r\n  { name: \"mr\", indices: [3, 4, 5] },\r\n  { name: \"br\", indices: [6, 7, 8] },\r\n  { name: \"lc\", indices: [0, 3, 6] },\r\n  { name: \"mc\", indices: [1, 4, 7] },\r\n  { name: \"rc\", indices: [2, 5, 8] },\r\n  { name: \"brtl\", indices: [0, 4, 8] },\r\n  { name: \"bltr\", indices: [6, 4, 2] }\r\n  ];\r\n\r\n  lines.forEach(({ name, indices }) => {\r\n    const lineFound = getLine(grid, indices);\r\n    if (lineFound) {\r\n      grid = setUsed(grid, indices, lineFound);\r\n      if (lineFound === 1)\r\n        p1.push(name);\r\n      else p2.push(name)\r\n    }\r\n  })\r\n  return { score: { p1, p2 }, grid };\r\n}\r\nfunction setUsed(grid: Array<Tile>, indices: Array<number>, player: 1 | 2): Array<Tile> {\r\n  indices.forEach(index => {\r\n    for (let i = 0; i < grid[index].value.length; i++) {\r\n      const item = grid[index].value[i];\r\n      if (item.player === player && !item.used) {\r\n        grid[index].value[i].used = true\r\n        break;\r\n      }\r\n    }\r\n  })\r\n  return grid;\r\n}\r\n\r\nfunction getLine(grid: Array<Tile>, indices: Array<number>,): false | 1 | 2 {\r\n  const tiles: Array<Tile> = []\r\n  indices.forEach(index => tiles.push(grid[index]));\r\n\r\n  //check 1\r\n  let found = true;\r\n  tiles.forEach((tile) => {\r\n    if (tile.slotsIndex === 0) found = false;\r\n\r\n    if (!tile.value.find((item) => !item.used && item.player === 1))\r\n      found = false;\r\n  })\r\n  if (found) return 1;\r\n\r\n  //check 2\r\n  found = true;\r\n  tiles.forEach((tile) => {\r\n    if (tile.slotsIndex === 0) found = false;\r\n\r\n    if (!tile.value.find((item) => !item.used && item.player === 2))\r\n      found = false;\r\n  })\r\n  if (found) return 2;\r\n\r\n\r\n  return false;\r\n}\r\n\r\nfunction getWinner(state: BoardState): false | 1 | 2 {\r\n  if (state.score.p1.length >= SCORE_TO_WIN)\r\n    return 1;\r\n  else if (state.score.p2.length >= SCORE_TO_WIN)\r\n    return 2\r\n  else return false;\r\n}\r\n\r\nexport function getSymbol(player: 1 | 2 | 3): string {\r\n  if (player === 1) return '🟡';\r\n  else if (player === 2) return '🔵';\r\n  else return '⚫';\r\n}","import React from 'react';\r\nimport styles from './Board.module.css';\r\nimport { ActionCreators } from 'redux-undo';\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { reset } from './boardSlice';\r\n\r\nexport function Control() {\r\n  const dispatch = useAppDispatch();\r\n  const canUndo: boolean = useAppSelector((state) => state.board.past.length > 0);\r\n  const canRedo: boolean = useAppSelector((state) => state.board.future.length > 0);\r\n  return (\r\n    <div className={styles.controlBar}>\r\n      <button className={styles.controlButton} onClick={() => dispatch(ActionCreators.undo())} disabled={!canUndo}>\r\n        <div className={styles.controlButtonInside}>undo</div>\r\n      </button>\r\n      <div className={styles.controlButtonContainer}>\r\n        <button className={styles.controlButton} onClick={() => dispatch(ActionCreators.redo())} disabled={!canRedo}>\r\n          <div className={styles.controlButtonInside}>redo</div>\r\n        </button>\r\n      </div>\r\n      <div className={styles.controlButtonContainer}>\r\n        <button className={styles.controlButton} onClick={() => dispatch(reset(Math.random() > 0.5 ? 1 : 2))}>\r\n          <div className={styles.controlButtonInside}>reset</div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { useAppSelector } from '../../app/hooks';\r\nimport styles from './Lines.module.css';\r\n\r\nconst H = 1000;\r\nconst W = 1000;\r\n\r\nexport type Direction = 'tr' | 'mr' | 'br' | 'lc' | 'mc' | 'rc' | 'brtl' | 'bltr';\r\n\r\ninterface DirectionLines {\r\n  tr: { pt1: [-1, -1]; pt2: [1, -1]; values: Array<1 | 2> };\r\n  mr: { pt1: [-1, 0]; pt2: [1, 0]; values: Array<1 | 2> };\r\n  br: { pt1: [-1, 1]; pt2: [1, 1]; values: Array<1 | 2> };\r\n  lc: { pt1: [-1, -1]; pt2: [-1, 1]; values: Array<1 | 2> };\r\n  mc: { pt1: [0, -1]; pt2: [0, 1]; values: Array<1 | 2> };\r\n  rc: { pt1: [1, -1]; pt2: [1, 1]; values: Array<1 | 2> };\r\n  bltr: { pt1: [-1, 1]; pt2: [1, -1]; values: Array<1 | 2> };\r\n  brtl: { pt1: [-1, -1]; pt2: [1, 1]; values: Array<1 | 2> };\r\n}\r\n\r\nconst COEF: number = 365;\r\nfunction sortLines(p1: Array<Direction>, p2: Array<Direction>): DirectionLines {\r\n  const sorted: DirectionLines = {\r\n    tr: { pt1: [-1, -1], pt2: [1, -1], values: [] },\r\n    mr: { pt1: [-1, 0], pt2: [1, 0], values: [] },\r\n    br: { pt1: [-1, 1], pt2: [1, 1], values: [] },\r\n    lc: { pt1: [-1, -1], pt2: [-1, 1], values: [] },\r\n    mc: { pt1: [0, -1], pt2: [0, 1], values: [] },\r\n    rc: { pt1: [1, -1], pt2: [1, 1], values: [] },\r\n    bltr: { pt1: [-1, 1], pt2: [1, -1], values: [] },\r\n    brtl: { pt1: [-1, -1], pt2: [1, 1], values: [] },\r\n  };\r\n\r\n  p1.forEach((line: Direction) => {\r\n    sorted[line].values.push(1);\r\n  });\r\n  p2.forEach((line: Direction) => {\r\n    sorted[line].values.push(2);\r\n  });\r\n  return sorted;\r\n}\r\n\r\nexport function Lines() {\r\n  const p1 = useAppSelector((state) => state.board.present.score.p1);\r\n  const p2 = useAppSelector((state) => state.board.present.score.p2);\r\n  const lines = sortLines(p1, p2);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) return;\r\n    const canvas: HTMLCanvasElement = canvasRef.current;\r\n    const c = canvas.getContext('2d');\r\n    if (!c) return;\r\n    c.clearRect(0, 0, H, W);\r\n\r\n    Object.keys(lines).forEach((dir): void => {\r\n      const { pt1, pt2, values } = lines[dir as Direction];\r\n      let [x1, y1] = pt1 as Array<number>;\r\n      let [x2, y2] = pt2 as Array<number>;\r\n      [x1, y1, x2, y2] = [x1 * COEF + W / 2, y1 * COEF + H / 2, x2 * COEF + W / 2, y2 * COEF + H / 2];\r\n\r\n      const delta = 40;\r\n\r\n      values.forEach((elem, index) => {\r\n        c.beginPath();\r\n        c.moveTo(\r\n          x1 + (index - (values.length === 1 ? 0 : 1)) * delta * (dir === 'brtl' ? -1 : 1),\r\n          y1 + (index - (values.length === 1 ? 0 : 1)) * delta,\r\n        );\r\n        c.lineWidth = 30;\r\n        c.strokeStyle = elem === 1 ? '#FFF100' : '#0078D7';\r\n        c.lineTo(\r\n          x2 + (index - (values.length === 1 ? 0 : 1)) * delta * (dir === 'brtl' ? -1 : 1),\r\n          y2 + (index - (values.length === 1 ? 0 : 1)) * delta,\r\n        );\r\n        c.closePath();\r\n        c.stroke();\r\n      });\r\n    });\r\n  });\r\n  return <canvas ref={canvasRef} className={styles.canvas} height={H} width={W} />;\r\n}\r\n","import { Dispatch, SetStateAction } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport { store } from './store';\r\nimport { BoardState, set } from '../features/board/boardSlice'\r\n\r\nexport let socket: ReturnType<typeof io>;\r\n\r\nexport function connect(ip: string, setConnected: Dispatch<SetStateAction<boolean>>) {\r\n  if (socket && socket.connected) socket.disconnect();\r\n  console.log('try to connect to : ' + ip);\r\n\r\n\r\n  socket = io(`ws://${ip}`, {\r\n    timeout: 3000,\r\n    reconnection: false,\r\n  });\r\n\r\n  socket.on('connect', () => {\r\n    console.log('connected');\r\n    setConnected(true);\r\n  });\r\n  socket.on('state', (state: BoardState) => {\r\n    console.log('received: ' + state);\r\n    store.dispatch(set(state));\r\n  });\r\n  socket.on('disconnect', () => {\r\n    console.log('disconnected');\r\n    setConnected(false);\r\n  });\r\n}","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport boardReducer from '../features/board/boardSlice';\nimport undoable from 'redux-undo';\n\nexport const store = configureStore({\n  reducer: {\n    board: undoable(boardReducer),\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React, { useEffect } from 'react';\r\nimport styles from './Board.module.css';\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { selectGrid, Tile, playAt, getSymbol } from './boardSlice';\r\nimport { Control } from './Control';\r\nimport { Lines } from './Lines';\r\nimport { socket } from '../../app/socket';\r\n\r\nexport function Board() {\r\n  const dispatch = useAppDispatch();\r\n  const grid = useAppSelector(selectGrid);\r\n  const present = useAppSelector((state) => state.board.present);\r\n  const turn = useAppSelector((state) => state.board.present.turn);\r\n  const winner = useAppSelector((state) => state.board.present.winner);\r\n\r\n  const header = winner ? (\r\n    <h1 className={styles.header + ' ' + styles.winning}> Winner is {getSymbol(winner)}</h1>\r\n  ) : present.fake ? (\r\n    <h1 className={styles.header}>\r\n      {`${getSymbol(turn)} place a `}\r\n      <span className={styles.used}>{getSymbol(3)}</span>\r\n    </h1>\r\n  ) : (\r\n    <h1 className={styles.header}>{`${getSymbol(turn)} place a ${getSymbol(turn)}`}</h1>\r\n  );\r\n  useEffect(() => {\r\n    if (!present.received && socket && socket.connected) socket.emit('state', present);\r\n  });\r\n\r\n  const tiles = grid.map((tile: Tile, index: number) => {\r\n    const items = tile.value.map((item, subIndex) => {\r\n      const symbol: string = item.used ? getSymbol(3) : getSymbol(item.player);\r\n      return (\r\n        <div className={styles.item + ' ' + (item.used ? styles.used : '')} key={index + subIndex}>\r\n          {symbol}\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <div\r\n        key={index}\r\n        className={styles.cell + ' ' + (tile.value.length < 3 ? styles.notfull : '')}\r\n        onClick={() => {\r\n          if (!winner) {\r\n            dispatch(playAt(index));\r\n          }\r\n        }}\r\n      >\r\n        <div className={styles.under}></div>\r\n        <div className={styles.upper}>\r\n          <div className={styles.inside}>{items}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.subHeader}>Make 3 lines to win</div>\r\n      {header}\r\n      <div className={styles.grid}>\r\n        <Lines />\r\n        {tiles}\r\n      </div>\r\n      <Control />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useAppSelector } from '../../app/hooks';\r\nimport { getSymbol } from './boardSlice';\r\nimport styles from './Score.module.css';\r\n\r\nexport function Score(props: { player: 1 | 2; small: boolean }) {\r\n  const score = useAppSelector((state) =>\r\n    props.player === 1 ? state.board.present.score.p1.length : state.board.present.score.p2.length,\r\n  );\r\n\r\n  const turn = useAppSelector((state) => state.board.present.turn);\r\n\r\n  if (props.small)\r\n    return (\r\n      <div className={`${styles.smallContainer} ${turn === props.player ? styles.turn : ''}`}>\r\n        <div className={styles.smallHeader}>{getSymbol(props.player)}</div>\r\n        <div className={styles.smallHeader}>{score}</div>\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <div className={`${styles.container} ${turn === props.player ? styles.turn : ''}`}>\r\n        <div className={styles.header}>{getSymbol(props.player)}</div>\r\n        <div className={styles.header}>{score}</div>\r\n      </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport styles from './Banner.module.css';\r\nexport function Banner() {\r\n  return (\r\n    <div>\r\n      <button className={styles.button}>\r\n        <img src={process.env.PUBLIC_URL + '/banner.png'} alt='banner' className={styles.image}></img>\r\n        <a rel='noreferrer' target='_blank' className={styles.info} href='https://github.com/CodyAdam/titac'>\r\n          github.com/CodyAdam/titac\r\n        </a>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport styles from './Multi.module.css';\r\nimport { connect } from '../../app/socket';\r\n\r\nexport function Multi() {\r\n  const [ip, setIp] = useState('88.123.1.223:2222');\r\n  const [connected, setConnected] = useState(false);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <input\r\n        type='text'\r\n        value={ip}\r\n        className={styles.input}\r\n        onChange={(e) => {\r\n          setIp(e.target.value);\r\n        }}\r\n      />\r\n      <button\r\n        className={`${styles.button} ${connected ? styles.connected : ''}`}\r\n        onClick={() => {\r\n          connect(ip, setConnected);\r\n        }}\r\n      >\r\n        {connected ? 'connected' : 'connect'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport { Board } from './features/board/Board';\nimport { Score } from './features/board/Score';\nimport { Banner } from './features/banner/Banner';\nimport { Multi } from './features/multi/Multi';\n\nimport styles from './App.module.css';\n\nfunction App() {\n  const [width, setWidth] = useState<number>(window.innerWidth);\n\n  function handleWindowSizeChange() {\n    setWidth(window.innerWidth);\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', handleWindowSizeChange);\n    return () => {\n      window.removeEventListener('resize', handleWindowSizeChange);\n    };\n  }, []);\n\n  let isMobile: boolean = width <= 768;\n\n  if (isMobile)\n    return (\n      <div className={styles.app}>\n        <Multi />\n        <Board />\n        <div className={styles.row + ' ' + styles.score + ' ' + styles.small}>\n          <Score player={1} small={true} />\n          <Score player={2} small={true} />\n        </div>\n      </div>\n    );\n  else\n    return (\n      <div className={styles.app}>\n        <Multi />\n        <Banner />\n        <div className={styles.row}>\n          <Score player={1} small={false} />\n          <Board />\n          <Score player={2} small={false} />\n        </div>\n      </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}