{"version":3,"sources":["App.module.css","features/multi/Multi.module.css","features/board/Board.module.css","features/banner/Banner.module.css","features/board/Lines.module.css","features/board/Score.module.css","app/hooks.ts","features/board/boardSlice.ts","features/board/Control.tsx","features/board/Lines.tsx","app/socket.ts","app/store.ts","features/board/Board.tsx","features/board/Score.tsx","features/banner/Banner.tsx","features/multi/Multi.tsx","App.tsx","index.tsx"],"names":["module","exports","useAppDispatch","useDispatch","useAppSelector","useSelector","initialState","received","score","p1","p2","turn","Math","random","winner","grid","slotsIndex","value","boardSlice","createSlice","name","reducers","playAt","state","action","cell","payload","player","push","used","indices","forEach","lineFound","tiles","index","found","tile","find","item","getLine","i","length","setUsed","getScoreGrid","getWinner","set","reset","actions","selectGrid","board","present","getSymbol","Control","dispatch","canUndo","past","canRedo","future","className","styles","controlBar","controlButton","onClick","ActionCreators","undo","disabled","controlButtonInside","controlButtonContainer","redo","H","W","COEF","Lines","lines","sorted","tr","pt1","pt2","values","mr","br","lc","mc","rc","bltr","brtl","line","sortLines","canvasRef","useRef","useEffect","current","c","getContext","clearRect","Object","keys","dir","x1","y1","x2","y2","elem","beginPath","moveTo","lineWidth","strokeStyle","lineTo","closePath","stroke","ref","canvas","height","width","socket","store","configureStore","reducer","undoable","boardReducer","Board","header","winning","connected","emit","map","items","subIndex","notfull","under","upper","inside","container","subHeader","Score","props","small","smallContainer","smallHeader","Banner","button","src","alt","image","rel","target","info","href","Multi","useState","ip","setIp","setConnected","type","input","onChange","e","disconnect","console","log","io","timeout","reconnection","on","connect","App","window","innerWidth","setWidth","handleWindowSizeChange","addEventListener","removeEventListener","app","row","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.527e36b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"row\":\"App_row__1s1ax\",\"column\":\"App_column__17gO4\",\"small\":\"App_small__1UEKC\",\"score\":\"App_score__2dBvm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Multi_container__NyT6-\",\"input\":\"Multi_input__Bn3RC\",\"button\":\"Multi_button__3B9ed\",\"connected\":\"Multi_connected__r-uHV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Board_container__e7AOm\",\"subHeader\":\"Board_subHeader__22W3O\",\"header\":\"Board_header__3a_-8\",\"winning\":\"Board_winning__2ndj0\",\"grid\":\"Board_grid__2S-vE\",\"cell\":\"Board_cell__3urXG\",\"notfull\":\"Board_notfull__3vcoS\",\"upper\":\"Board_upper__1wxc3\",\"under\":\"Board_under__2gw4d\",\"inside\":\"Board_inside__3CQrY\",\"item\":\"Board_item__34jtE\",\"used\":\"Board_used__3yTAm\",\"controlBar\":\"Board_controlBar__q1_iT\",\"controlButton\":\"Board_controlButton__1SIAm\",\"controlButtonInside\":\"Board_controlButtonInside__1Mwrb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Banner_image__3aIJH\",\"rotate\":\"Banner_rotate__OKErP\",\"button\":\"Banner_button__3Mjkm\",\"hover\":\"Banner_hover__1BANt\",\"jello-horizontal\":\"Banner_jello-horizontal__3Q0v0\",\"info\":\"Banner_info__2zzp5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"Lines_canvas__3njqj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Score_container__3l-PS\",\"header\":\"Score_header__29u0a\",\"smallContainer\":\"Score_smallContainer__FL5Mp\",\"smallHeader\":\"Score_smallHeader__2jGwJ\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../../app/store';\nimport { Direction } from './Lines';\n\nexport interface BoardState {\n  received: boolean,\n  score: { p1: Array<Direction>, p2: Array<Direction> }\n  turn: 1 | 2\n  winner: false | 1 | 2\n  grid: Array<Tile>\n}\n\nexport interface Tile {\n  slotsIndex: number,\n  value: Array<Item>\n}\n\nexport interface Item { used: boolean, player: 1 | 2 }\n\nconst MAX_PER_TILE = 3;\nconst SCORE_TO_WIN = 3;\n\nconst initialState: BoardState = {\n  received: true,\n  score: { p1: [], p2: [] },\n  turn: Math.random() < 0.5 ? 1 : 2,\n  winner: false,\n  grid: [\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n    { slotsIndex: 0, value: [] },\n  ]\n}\n\nexport const boardSlice = createSlice({\n  name: 'board',\n  initialState,\n  reducers: {\n    playAt: (state, action: PayloadAction<number>) => {\n      const cell = action.payload;\n      const player = state.turn;\n      if (state.grid[cell].slotsIndex < MAX_PER_TILE) {\n        state.grid[cell].slotsIndex++;\n        state.grid[cell].value.push({ used: false, player });\n        state.turn = player === 1 ? 2 : 1;\n        const { score, grid } = getScoreGrid(state);\n        state.score = score;\n        state.grid = grid;\n        state.winner = getWinner(state);\n        state.received = false;\n      }\n    },\n    set: (state, action: PayloadAction<BoardState>) => {\n      state = { ...action.payload };\n      state.received = true;\n      return state;\n    },\n    reset: (state, action: PayloadAction<1 | 2>) => {\n      state = { ...initialState }\n      state.turn = action.payload;\n      state.received = false;\n      return state\n    }\n  }\n});\n\nexport const { playAt, reset, set } = boardSlice.actions;\n\nexport const selectGrid = (state: RootState) => state.board.present.grid;\n\nexport default boardSlice.reducer;\n\n// HELPERS\n\nfunction getScoreGrid(state: BoardState): { score: { p1: Array<Direction>, p2: Array<Direction> }, grid: Array<Tile> } {\n  const p1: Array<Direction> = state.score.p1;\n  const p2: Array<Direction> = state.score.p2;\n  let grid = state.grid;\n\n  const lines: Array<{ name: Direction, indices: Array<number> }> = [{ name: \"tr\", indices: [0, 1, 2] },\n  { name: \"mr\", indices: [3, 4, 5] },\n  { name: \"br\", indices: [6, 7, 8] },\n  { name: \"lc\", indices: [0, 3, 6] },\n  { name: \"mc\", indices: [1, 4, 7] },\n  { name: \"rc\", indices: [2, 5, 8] },\n  { name: \"brtl\", indices: [0, 4, 8] },\n  { name: \"bltr\", indices: [6, 4, 2] }\n  ];\n\n  lines.forEach(({ name, indices }) => {\n    const lineFound = getLine(grid, indices);\n    if (lineFound) {\n      grid = setUsed(grid, indices, lineFound);\n      if (lineFound === 1)\n        p1.push(name);\n      else p2.push(name)\n    }\n  })\n  return { score: { p1, p2 }, grid };\n}\nfunction setUsed(grid: Array<Tile>, indices: Array<number>, player: 1 | 2): Array<Tile> {\n  indices.forEach(index => {\n    for (let i = 0; i < grid[index].value.length; i++) {\n      const item = grid[index].value[i];\n      if (item.player === player && !item.used) {\n        grid[index].value[i].used = true\n        break;\n      }\n    }\n  })\n  return grid;\n}\n\nfunction getLine(grid: Array<Tile>, indices: Array<number>,): false | 1 | 2 {\n  const tiles: Array<Tile> = []\n  indices.forEach(index => tiles.push(grid[index]));\n\n  //check 1\n  let found = true;\n  tiles.forEach((tile) => {\n    if (tile.slotsIndex === 0) found = false;\n\n    if (!tile.value.find((item) => !item.used && item.player === 1))\n      found = false;\n  })\n  if (found) return 1;\n\n  //check 2\n  found = true;\n  tiles.forEach((tile) => {\n    if (tile.slotsIndex === 0) found = false;\n\n    if (!tile.value.find((item) => !item.used && item.player === 2))\n      found = false;\n  })\n  if (found) return 2;\n\n\n  return false;\n}\n\nfunction getWinner(state: BoardState): false | 1 | 2 {\n  if (state.score.p1.length >= SCORE_TO_WIN)\n    return 1;\n  else if (state.score.p2.length >= SCORE_TO_WIN)\n    return 2\n  else return false;\n}\n\nexport function getSymbol(player: 1 | 2): string {\n  if (player === 1) return '🟡';\n  else if (player === 2) return '🔵';\n  else return '?';\n}","import React from 'react';\nimport styles from './Board.module.css';\nimport { ActionCreators } from 'redux-undo';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { reset } from './boardSlice';\n\nexport function Control() {\n  const dispatch = useAppDispatch();\n  const canUndo: boolean = useAppSelector((state) => state.board.past.length > 0);\n  const canRedo: boolean = useAppSelector((state) => state.board.future.length > 0);\n  return (\n    <div className={styles.controlBar}>\n      <button className={styles.controlButton} onClick={() => dispatch(ActionCreators.undo())} disabled={!canUndo}>\n        <div className={styles.controlButtonInside}>undo</div>\n      </button>\n      <div className={styles.controlButtonContainer}>\n        <button className={styles.controlButton} onClick={() => dispatch(ActionCreators.redo())} disabled={!canRedo}>\n          <div className={styles.controlButtonInside}>redo</div>\n        </button>\n      </div>\n      <div className={styles.controlButtonContainer}>\n        <button className={styles.controlButton} onClick={() => dispatch(reset(Math.random() > 0.5 ? 1 : 2))}>\n          <div className={styles.controlButtonInside}>reset</div>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from 'react';\nimport { useAppSelector } from '../../app/hooks';\nimport styles from './Lines.module.css';\n\nconst H = 1000;\nconst W = 1000;\n\nexport type Direction = 'tr' | 'mr' | 'br' | 'lc' | 'mc' | 'rc' | 'brtl' | 'bltr';\n\ninterface DirectionLines {\n  tr: { pt1: [-1, -1]; pt2: [1, -1]; values: Array<1 | 2> };\n  mr: { pt1: [-1, 0]; pt2: [1, 0]; values: Array<1 | 2> };\n  br: { pt1: [-1, 1]; pt2: [1, 1]; values: Array<1 | 2> };\n  lc: { pt1: [-1, -1]; pt2: [-1, 1]; values: Array<1 | 2> };\n  mc: { pt1: [0, -1]; pt2: [0, 1]; values: Array<1 | 2> };\n  rc: { pt1: [1, -1]; pt2: [1, 1]; values: Array<1 | 2> };\n  bltr: { pt1: [-1, 1]; pt2: [1, -1]; values: Array<1 | 2> };\n  brtl: { pt1: [-1, -1]; pt2: [1, 1]; values: Array<1 | 2> };\n}\n\nconst COEF: number = 365;\nfunction sortLines(p1: Array<Direction>, p2: Array<Direction>): DirectionLines {\n  const sorted: DirectionLines = {\n    tr: { pt1: [-1, -1], pt2: [1, -1], values: [] },\n    mr: { pt1: [-1, 0], pt2: [1, 0], values: [] },\n    br: { pt1: [-1, 1], pt2: [1, 1], values: [] },\n    lc: { pt1: [-1, -1], pt2: [-1, 1], values: [] },\n    mc: { pt1: [0, -1], pt2: [0, 1], values: [] },\n    rc: { pt1: [1, -1], pt2: [1, 1], values: [] },\n    bltr: { pt1: [-1, 1], pt2: [1, -1], values: [] },\n    brtl: { pt1: [-1, -1], pt2: [1, 1], values: [] },\n  };\n\n  p1.forEach((line: Direction) => {\n    sorted[line].values.push(1);\n  });\n  p2.forEach((line: Direction) => {\n    sorted[line].values.push(2);\n  });\n  return sorted;\n}\n\nexport function Lines() {\n  const p1 = useAppSelector((state) => state.board.present.score.p1);\n  const p2 = useAppSelector((state) => state.board.present.score.p2);\n  const lines = sortLines(p1, p2);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const canvas: HTMLCanvasElement = canvasRef.current;\n    const c = canvas.getContext('2d');\n    if (!c) return;\n    c.clearRect(0, 0, H, W);\n\n    Object.keys(lines).forEach((dir): void => {\n      const { pt1, pt2, values } = lines[dir as Direction];\n      let [x1, y1] = pt1 as Array<number>;\n      let [x2, y2] = pt2 as Array<number>;\n      [x1, y1, x2, y2] = [x1 * COEF + W / 2, y1 * COEF + H / 2, x2 * COEF + W / 2, y2 * COEF + H / 2];\n\n      const delta = 40;\n\n      values.forEach((elem, index) => {\n        c.beginPath();\n        c.moveTo(\n          x1 + (index - (values.length === 1 ? 0 : 1)) * delta * (dir === 'brtl' ? -1 : 1),\n          y1 + (index - (values.length === 1 ? 0 : 1)) * delta,\n        );\n        c.lineWidth = 30;\n        c.strokeStyle = elem === 1 ? '#FFF100' : '#0078D7';\n        c.lineTo(\n          x2 + (index - (values.length === 1 ? 0 : 1)) * delta * (dir === 'brtl' ? -1 : 1),\n          y2 + (index - (values.length === 1 ? 0 : 1)) * delta,\n        );\n        c.closePath();\n        c.stroke();\n      });\n    });\n  });\n  return <canvas ref={canvasRef} className={styles.canvas} height={H} width={W} />;\n}\n","import { Dispatch, SetStateAction } from 'react';\nimport { io } from 'socket.io-client';\nimport { store } from './store';\nimport { BoardState, set } from '../features/board/boardSlice'\n\nexport let socket: ReturnType<typeof io>;\n\nexport function connect(ip: string, setConnected: Dispatch<SetStateAction<boolean>>) {\n  if (socket && socket.connected) socket.disconnect();\n  console.log('try to connect to : ' + ip);\n\n\n  socket = io(`ws://${ip}`, {\n    timeout: 3000,\n    reconnection: false,\n  });\n\n  socket.on('connect', () => {\n    console.log('connected');\n    setConnected(true);\n  });\n  socket.on('state', (state: BoardState) => {\n    console.log('received: ' + state);\n    store.dispatch(set(state));\n  });\n  socket.on('disconnect', () => {\n    console.log('disconnected');\n    setConnected(false);\n  });\n}","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport boardReducer from '../features/board/boardSlice';\nimport undoable from 'redux-undo';\n\nexport const store = configureStore({\n  reducer: {\n    board: undoable(boardReducer),\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React, { useEffect } from 'react';\nimport styles from './Board.module.css';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { selectGrid, Tile, playAt, getSymbol } from './boardSlice';\nimport { Control } from './Control';\nimport { Lines } from './Lines';\nimport { socket } from '../../app/socket';\n\nexport function Board() {\n  const dispatch = useAppDispatch();\n  const grid = useAppSelector(selectGrid);\n  const present = useAppSelector((state) => state.board.present);\n  const turn = useAppSelector((state) => state.board.present.turn);\n  const winner = useAppSelector((state) => state.board.present.winner);\n\n  const header = winner ? (\n    <h1 className={styles.header + ' ' + styles.winning}> Winner is {getSymbol(winner)}</h1>\n  ) : turn === 1 ? (\n    <h1 className={styles.header}>Player {getSymbol(1)} turn</h1>\n  ) : (\n    <h1 className={styles.header}>Player {getSymbol(2)} turn</h1>\n  );\n\n  useEffect(() => {\n    if (!present.received && socket && socket.connected) socket.emit('state', present);\n  });\n\n  const tiles = grid.map((tile: Tile, index: number) => {\n    const items = tile.value.map((item, subIndex) => (\n      <div className={styles.item + ' ' + (item.used ? styles.used : '')} key={index + subIndex}>\n        {getSymbol(item.player)}\n      </div>\n    ));\n    return (\n      <div\n        key={index}\n        className={styles.cell + ' ' + (tile.value.length < 3 ? styles.notfull : '')}\n        onClick={() => {\n          if (!winner) {\n            dispatch(playAt(index));\n          }\n        }}\n      >\n        <div className={styles.under}></div>\n        <div className={styles.upper}>\n          <div className={styles.inside}>{items}</div>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.subHeader}>Make 3 lines to win</div>\n      {header}\n      <div className={styles.grid}>\n        <Lines />\n        {tiles}\n      </div>\n      <Control />\n    </div>\n  );\n}\n","import React from 'react';\nimport { useAppSelector } from '../../app/hooks';\nimport { getSymbol } from './boardSlice';\nimport styles from './Score.module.css';\n\nexport function Score(props: { player: 1 | 2; small: boolean }) {\n  const score = useAppSelector((state) =>\n    props.player === 1 ? state.board.present.score.p1.length : state.board.present.score.p2.length,\n  );\n\n  if (props.small)\n    return (\n      <div className={styles.smallContainer}>\n        <div className={styles.smallHeader}>{getSymbol(props.player)}</div>\n        <div className={styles.smallHeader}>{score}</div>\n      </div>\n    );\n  else\n    return (\n      <div className={styles.container}>\n        <div className={styles.header}>{getSymbol(props.player)}</div>\n        <div className={styles.header}>{score}</div>\n      </div>\n    );\n}\n","import React from 'react';\nimport styles from './Banner.module.css';\nexport function Banner() {\n  return (\n    <div>\n      <button className={styles.button}>\n        <img src={process.env.PUBLIC_URL + '/banner.png'} alt='banner' className={styles.image}></img>\n        <a rel='noreferrer' target='_blank' className={styles.info} href='https://github.com/CodyAdam/titac'>\n          github.com/CodyAdam/titac\n        </a>\n      </button>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport styles from './Multi.module.css';\nimport { connect } from '../../app/socket';\n\nexport function Multi() {\n  const [ip, setIp] = useState('88.123.1.223:2222');\n  const [connected, setConnected] = useState(false);\n\n  return (\n    <div className={styles.container}>\n      <input\n        type='text'\n        value={ip}\n        className={styles.input}\n        onChange={(e) => {\n          setIp(e.target.value);\n        }}\n      />\n      <button\n        className={`${styles.button} ${connected ? styles.connected : ''}`}\n        onClick={() => {\n          connect(ip, setConnected);\n        }}\n      >\n        {connected ? 'connected' : 'connect'}\n      </button>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Board } from './features/board/Board';\nimport { Score } from './features/board/Score';\nimport { Banner } from './features/banner/Banner';\nimport { Multi } from './features/multi/Multi';\n\nimport styles from './App.module.css';\n\nfunction App() {\n  const [width, setWidth] = useState<number>(window.innerWidth);\n\n  function handleWindowSizeChange() {\n    setWidth(window.innerWidth);\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', handleWindowSizeChange);\n    return () => {\n      window.removeEventListener('resize', handleWindowSizeChange);\n    };\n  }, []);\n\n  let isMobile: boolean = width <= 768;\n\n  if (isMobile)\n    return (\n      <div className={styles.app}>\n        <Multi />\n        <Board />\n        <div className={styles.row + ' ' + styles.score + ' ' + styles.small}>\n          <Score player={1} small={true} />\n          <Score player={2} small={true} />\n        </div>\n      </div>\n    );\n  else\n    return (\n      <div className={styles.app}>\n        <Multi />\n        <Banner />\n        <div className={styles.row}>\n          <Score player={1} small={false} />\n          <Board />\n          <Score player={2} small={false} />\n        </div>\n      </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}